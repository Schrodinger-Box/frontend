<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        .toggle-item{
            width: 100px;
            height:  100px;
            background-color: pink;
        }
        
        #toggle-trigger ~ :not(checked) ~  .toggle-item{
           display: block;
        }
        #toggle-trigger:checked  ~  .toggle-item{
          display: none;
        }
        #convert_time {
            width: 80px;
            height: 20px;
        }
       </style>
</head>
<body>
    
           <!--<div class="toggle">
               <label for="toggle-trigger">触发器</label>
               <input id="toggle-trigger" type="checkbox" />
               <div class="toggle-item"></div>
           </div>-->

        <div class="toggle">
            <!--<label for="toggle-trigger">触发器</label>-->
            <input name="l" id="toggle-trigger" type="radio" />This
            <input name="l" id="toggle-tri" type="radio" />That
            <div class="toggle-item">
                <input type="text"/>TTT
            </div>
        </div>
        <input type="datetime-local" name="" id="picker">
            <div style="border: 1px solid red; width: 500px; height: 200px;" id="output"></div>
        <button id="convert_time">Convert</button>
        <script>
            $("#convert_time").click(function() {
                /*var ss =  $("#picker").val()+":00.000Z";
                var new_hour;
                var new_day;
                if (Number(ss.substr(11, 2)) >= 9) {
                    new_day = ss.substr(8, 2);
                    new_hour = (Number(ss.substr(11, 2)) - 8).toString();
                    if (Number(ss.substr(11, 2)) < 10) {
                        new_hour = "0" + new_hour;
                    }
                } else {
                    new_day = (Number(ss.substr(8, 2)) - 1).toString();
                    new_hour = (Number(ss.substr(11, 2)) + 16).toString();
                }
                ss = ss.substring(0, 8) + new_day + "T" + new_hour + ss.substring(13, 24);
                $("#output").text(ss + "        " + new Date().toISOString());*/
                //ISO8601_convert("#picker", "#output");
                //alert(ISO8601_convert("#picker"));
                alert(new Date($("#picker").val()).toISOString());
                // + " " + new Date().toISOString()
                //alert(ss);
                //alert(new Date().toISOString());
            })
            /*$("#picker").change(function() {
                var ss =  $("#picker").val()
                $("#output").text() = ss;
            })*/
            function ISO8601_convert(time_id) {
                var output_time = $(time_id).val()+":00.000Z";
                var new_hour;
                var new_day;
                var temp = Number(output_time.substr(11, 2))
                if (temp >= 8) {
                    new_day = output_time.substr(8, 2);
                    new_hour = (temp - 8).toString();
                    if (new_hour < 10) {
                        new_hour = "0" + new_hour;
                    }
                } else {
                    new_hour = (temp + 16).toString();
                    new_day = (Number(output_time.substr(8, 2)) - 1).toString();
                }
                output_time = output_time.substring(0, 8) + new_day + "T" + new_hour + output_time.substring(13, 24);
                return output_time;
            }
            
        </script>

</body>
</html>

